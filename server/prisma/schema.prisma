generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = "file:./database.db"
}

model Race {
    id              Int              @id @default(autoincrement())
    name            String
    classifications Classification[]
}

model Classification {
    id      Int      @id @default(autoincrement())
    name    String
    race    Race     @relation(fields: [raceId], references: [id])
    raceId  Int
    players Player[]
}

model Player {
    id             Int      @id @default(autoincrement())
    name           String
    lastName       String
    birthDate      DateTime
    gender         String
    team           String
    city           String
    country        String
    email          String
    phoneNumber    String
    icePhoneNumber String

    classification     Classification @relation(fields: [classificationId], references: [id])
    classificationId   Int
    registeredBy       User           @relation(fields: [registeredByUserId], references: [id])
    registeredByUserId Int
}

model User {
    id                Int      @id @default(autoincrement())
    login             String
    password          String
    registeredPlayers Player[]
}
